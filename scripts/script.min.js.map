{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/@babel/runtime/helpers/asyncToGenerator.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/interopRequireDefault.js","node_modules/@babel/runtime/helpers/regeneratorRuntime.js","node_modules/@babel/runtime/helpers/typeof.js","node_modules/@babel/runtime/regenerator/index.js","src/scripts/constants.js","src/scripts/density-canvas.js","src/scripts/drop.js","src/scripts/extensions.js","src/scripts/font-loader.js","src/scripts/main.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","self","this","args","arguments","apply","err","undefined","__esModule","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","prototype","obj","default","_typeof","_regeneratorRuntime","Op","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","context","state","protoGenerator","Generator","generator","create","Context","_invoke","method","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","record","tryCatch","type","resultName","next","nextLoc","sent","_sent","dispatchException","abrupt","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","result","__await","unwrapped","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","backingStoreRatio","devicePixelRatio","DensityCanvas","_classCallCheck2","_classPrivateMethodInitSpec","_getDrawRatio","_getDevicePixelRation","_getBackingStoreRatio","canvas","document","createElement","virtualWidth","virtualHeight","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","_ref","width","height","_classPrivateMethodGet","_getBackingStoreRatio2","_getDevicePixelRation2","drawRatio","_getDrawRatio2","style","concat","minWidth","minHeight","scale","clearRect","x","y","ctx","save","drawImage","restore","element","appendChild","getContext","_constants","_fontLoader","_interopRequireDefault","SYMBOLS","random","darknessPercentage","Math","floor","g","b","symbol","horizontalOffset","verticalOffset","color","fillStyle","shadowColor","DROP_BLUR_COLOR","shadowBlur","shadowOffsetX","shadowOffsetY","fillText","position","Drop","_renderSymbol","_getColor","_getRandomSymbol","velocity","moveTimer","spawnTimer","swapTimer","letterSpacing","trail","deltaTime","_FontLoader$measure","DROP_TIME_TO_STACK","unshift","_getRandomSymbol2","TRAIL_LENGTH","_FontLoader$measure$h","measure","DROP_TIME_TO_SWAP_SYMBOLS","_getColor2","size","_renderSymbol2","Array","window","addLoadEventListener","handler","_func","fired","timeout","addEventListener","setTimeout","FontLoader","cache","_callee","font","_iterator","_step","_regenerator","_context","FONT_FAMILY","fonts","check","load","_createForOfIteratorHelper","s","metrics","measureText","fontBoundingBoxAscent","fontBoundingBoxDescent","_densityCanvas","_drop","elapsed","lastFrameTime","frameStartTime","remaining","targetFrameTime","performance","now","_onFrame","_onFrame2","bind","body","clientWidth","clientHeight","setSize","fullscreen","_invalidate","_invalidate2","dropSpawnTimer","DROP_SPAWN_INTERVAL","drops","MAX_DROP_COUNT","averageMetrics","columns","frameCount","frameTimer","fps","_onTick","_onTick2","_onRender","_onRender2","clear","drop","isWithinScreenBounds","update","render","splice","Main","_onResize","_onLoad","attachToElement","horizontalColumn","targetFPS","_onLoad2","_onResize2"],"mappings":"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","file":"script.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// Constants\nexport const FONT_FAMILY = \"500 18pt 'Matrix'\";\nexport const SYMBOLS = [\n\t\"`\",\n\t\"\\\"\",\n\t\"#\",\n\t\"$\",\n\t\"%\",\n\t\"&\",\n\t\"'\",\n\t\"(\",\n\t\")\",\n\t\"*\",\n\t\"+\",\n\t\",\",\n\t\"-\",\n\t\".\",\n\t\"/\",\n\t\"0\",\n\t\"1\",\n\t\"2\",\n\t\"3\",\n\t\"4\",\n\t\"5\",\n\t\"6\",\n\t\"7\",\n\t\"8\",\n\t\"9\",\n\t\":\",\n\t\";\",\n\t\"<\",\n\t\"=\",\n\t\">\",\n\t\"?\",\n\t\"[\",\n\t\"\\\\\",\n\t\"]\",\n\t\"^\",\n\t\"_\",\n\t\"a\",\n\t\"b\",\n\t\"c\",\n\t\"d\",\n\t\"e\",\n\t\"f\",\n\t\"g\",\n\t\"h\",\n\t\"i\",\n\t\"j\",\n\t\"k\",\n\t\"l\",\n\t\"m\",\n\t\"n\",\n\t\"o\",\n\t\"p\",\n\t\"q\",\n\t\"r\",\n\t\"s\",\n\t\"t\",\n\t\"u\",\n\t\"v\",\n\t\"w\",\n\t\"x\",\n\t\"y\",\n\t\"z\",\n\t\"{\",\n\t\"|\",\n\t\"}\",\n\t\"~\",\n];\nexport const TRAIL_LENGTH = 10;\nexport const MAX_DROP_COUNT = 750;\nexport const DROP_SPAWN_INTERVAL = 0.035;\nexport const DROP_BLUR_COLOR = \"#0fa\";\nexport const DROP_TIME_TO_STACK = 0.085;\nexport const DROP_TIME_TO_SWAP_SYMBOLS = 0.065;","export class DensityCanvas {\n\n\tconstructor() {\n\t\tthis.canvas = document.createElement(\"canvas\");\n\t\tthis.virtualWidth = null;\n\t\tthis.virtualHeight = null;\n\t}\n\n\tfullscreen() {\n\t\tif (this.canvas.requestFullscreen) {\n\t\t\tthis.canvas.requestFullscreen();\n\t\t} else if (this.canvas.webkitRequestFullscreen) {\n\t\t\tthis.canvas.webkitRequestFullscreen();\n\t\t} else if (this.canvas.msRequestFullscreen) {\n\t\t\tthis.canvas.msRequestFullscreen();\n\t\t}\n\t}\n\n\t#getBackingStoreRatio(context) {\n\t\t/* return (\n\t\t\tcontext.webkitBackingStorePixelRatio ||\n\t\t\tcontext.mozBackingStorePixelRatio ||\n\t\t\tcontext.msBackingStorePixelRatio ||\n\t\t\tcontext.oBackingStorePixelRatio ||\n\t\t\tcontext.backingStorePixelRatio ||\n\t\t\t1\n\t\t); */\n\t\treturn 1;\n\t}\n\n\t#getDevicePixelRation() {\n\t\treturn 1;// return window.devicePixelRatio || 1;\n\t}\n\n\t#getDrawRatio(backingStoreRatio, devicePixelRatio) {\n\t\treturn devicePixelRatio / backingStoreRatio;\n\t}\n\n\t// eslint-disable-next-line max-statements\n\tsetSize({ width, height }) {\n\t\t// Calculate the display density pixel ratio\n\t\tconst backingStoreRatio = this.#getBackingStoreRatio(this.context);\n\t\tconst devicePixelRatio = this.#getDevicePixelRation();\n\t\tthis.drawRatio = this.#getDrawRatio(backingStoreRatio, devicePixelRatio);\n\n\t\t// Set the canvas size\n\t\tif (backingStoreRatio !== devicePixelRatio) {\n\t\t\t// Set the virtual canvas size to the real resolution\n\t\t\tthis.canvas.width = width * this.drawRatio;\n\t\t\tthis.canvas.height = height * this.drawRatio;\n\n\t\t\t// Set the presented canvas size to the visible resolution\n\t\t\tthis.canvas.style.width = `${width}px`;\n\t\t\tthis.canvas.style.minWidth = `${width}px`;\n\t\t\tthis.canvas.style.height = `${height}px`;\n\t\t\tthis.canvas.style.minHeight = `${height}px`;\n\t\t} else {\n\t\t\t// 1:1 ratio, just scale it\n\t\t\tthis.canvas.width = width;\n\t\t\tthis.canvas.height = height;\n\n\t\t\tthis.canvas.style.width = \"\";\n\t\t\tthis.canvas.style.height = \"\";\n\t\t}\n\n\t\t// Scale the canvas according to the ratio\n\t\tthis.context.scale(this.drawRatio, this.drawRatio);\n\n\t\t// Save the virtual size of the canvas\n\t\tthis.virtualWidth = width;\n\t\tthis.virtualHeight = height;\n\t}\n\n\tclear() {\n\t\tthis.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\t}\n\n\tdrawBufferTo(x, y, ctx) {\n\t\tctx.save();\n\t\tctx.scale(1 / this.drawRatio, 1 / this.drawRatio);\n\t\tctx.drawImage(this.canvas, x, y);\n\t\tctx.restore();\n\t}\n\n\t/**\n\t * Attaches the canvas element as child to a given HTMLElement\n\t *\n\t * @param {HTMLElement} element The parent element to attach the canvas\n\t */\n\tattachToElement(element) {\n\t\telement.appendChild(this.canvas);\n\t}\n\n\tget width() {\n\t\treturn this.virtualWidth || this.canvas.width;\n\t}\n\n\tget height() {\n\t\treturn this.virtualHeight || this.canvas.height;\n\t}\n\n\tget context() {\n\t\treturn this.canvas.getContext(\"2d\");\n\t}\n\n}\n","import { DROP_BLUR_COLOR, DROP_TIME_TO_STACK, DROP_TIME_TO_SWAP_SYMBOLS, SYMBOLS, TRAIL_LENGTH } from \"./constants\";\nimport FontLoader from \"./font-loader\";\n\nconst timeToSpawn = 0.075;\nconst timeToSwap = 0.050;\n\nexport class Drop {\n\n\tconstructor({ x, y }) {\n\t\tthis.position = { x, y };\n\t\tthis.velocity = Math.random() * 100 + 25;\n\n\t\tthis.moveTimer = 0;\n\t\tthis.spawnTimer = 0;\n\t\tthis.swapTimer = 0;\n\n\t\tthis.letterSpacing = 0;\n\n\t\tthis.trail = [];\n\t}\n\n\tupdate(deltaTime) {\n\t\t// Update trail size\n\t\tthis.spawnTimer += deltaTime;\n\t\tif (this.spawnTimer >= DROP_TIME_TO_STACK) {\n\t\t\tthis.spawnTimer -= DROP_TIME_TO_STACK;\n\n\t\t\t// Add new symbol to trail\n\t\t\tthis.trail.unshift(this.#getRandomSymbol());\n\t\t\tif (this.trail.length > TRAIL_LENGTH) this.trail.pop();\n\n\t\t\t// Update vertical position, falling\n\t\t\tthis.position.y += FontLoader.measure(null, this.trail[0])?.height ?? 0 + this.letterSpacing;\n\t\t}\n\n\t\t// Update letter swap\n\t\tif (this.swapTimer >= DROP_TIME_TO_SWAP_SYMBOLS && Math.random() <= 0.25) {\n\t\t\tthis.swapTimer -= DROP_TIME_TO_SWAP_SYMBOLS;\n\t\t\tthis.trail[0] = this.#getRandomSymbol();\n\n\t\t\t// Randomly swap symbols in trail\n\t\t\tif (Math.random() <= 0.5) {\n\t\t\t\tthis.trail[1 + Math.floor(Math.random() * this.trail.length - 2)] = this.#getRandomSymbol();\n\t\t\t}\n\t\t} else this.swapTimer += deltaTime;\n\t}\n\n\t/**\n\t *\n\t * @param {CanvasRenderingContext2D} ctx\n\t */\n\trender(ctx) {\n\t\t// Draw current symbol\n\t\tlet verticalOffset = 0;\n\t\tfor (let i = 0; i < this.trail.length; i++) {\n\t\t\tconst darknessPercentage = 1 - i / (this.trail.length + 1);\n\t\t\tconst symbol = this.trail[i];\n\t\t\tconst color = i == 0 ? \"#afa\" : this.#getColor(darknessPercentage);\n\t\t\tconst size = FontLoader.measure(ctx, symbol);\n\n\t\t\tthis.#renderSymbol(ctx, symbol, darknessPercentage, -size.width / 2, -verticalOffset, color);\n\n\t\t\tverticalOffset += size.height + this.letterSpacing;\n\t\t}\n\t}\n\n\tisWithinScreenBounds(width, height) {\n\t\treturn this.position.x >= 0 && this.position.x <= width && this.position.y >= 0 && this.position.y - this.trail.length * 20 <= height;\n\t}\n\n\t#getRandomSymbol() {\n\t\treturn SYMBOLS.random();\n\t}\n\n\t#getColor(darknessPercentage) {\n\t\tconst r = Math.floor(10 * (1 - darknessPercentage));\n\t\tconst g = Math.floor(255 * (darknessPercentage));\n\t\tconst b = Math.floor(10 * (1 - darknessPercentage));\n\n\t\treturn `rgb(${r}, ${g}, ${b})`;\n\t\t// return `rgba(10, 245, 10, ${darknessPercentage.toFixed(2)})`;\n\t}\n\n\t/**\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {string} symbol\n\t * @param {number} darknessPercentage\n\t * @param {number} horizontalOffset\n\t * @param {number} verticalOffset\n\t * @param {string} color\n\t */\n\t// eslint-disable-next-line max-params\n\t#renderSymbol(ctx, symbol, darknessPercentage, horizontalOffset, verticalOffset, color) {\n\t\t// Set color\n\t\tctx.fillStyle = color;\n\n\t\t// Apply blur when symbol is light enough\n\t\tif (darknessPercentage > 0.5) {\n\t\t\tctx.shadowColor = DROP_BLUR_COLOR;\n\t\t\tctx.shadowBlur = 10;\n\t\t} else {\n\t\t\tctx.shadowColor = \"transparent\";\n\t\t\tctx.shadowBlur = 0;\n\t\t}\n\t\tctx.shadowOffsetX = 0;\n\t\tctx.shadowOffsetY = 0;\n\n\t\t// Draw symbol\n\t\tctx.fillText(symbol, this.position.x + horizontalOffset, this.position.y + verticalOffset);\n\t}\n\n}","Array.prototype.random = function() {\n\tconst index = Math.floor(Math.random() * this.length);\n\n\treturn this[index];\n};\n\nwindow.addLoadEventListener = function (handler, timeout = 1000) {\n\tlet fired = false;\n\n\tconst _func = () => {\n\t\tif (fired) return;\n\t\tfired = true;\n\n\t\thandler();\n\t};\n\n\twindow.addEventListener(\"DOMContentLoaded\", _func);\n\twindow.addEventListener(\"load\", _func);\n\tdocument.addEventListener(\"load\", _func);\n\twindow.addEventListener(\"ready\", _func);\n\tsetTimeout(_func, timeout);\n};","import { FONT_FAMILY, SYMBOLS } from \"./constants\";\n\nclass FontLoader {\n\n\tconstructor() {\n\t\tthis.cache = { };\n\t}\n\n\t/**\n\t *\n\t * @param {CanvasRenderingContext2D} ctx\n\t */\n\tasync load(ctx) {\n\t\tconst font = FONT_FAMILY;\n\t\tif (!document.fonts.check(font)) {\n\t\t\tawait document.fonts.load(font);\n\n\t\t\t// Cache all symbols\n\t\t\tfor (const symbol of SYMBOLS) {\n\t\t\t\tthis.measure(ctx, symbol);\n\t\t\t}\n\t\t}\n\n\t\tctx.font = font;\n\t}\n\n\t/**\n\t * Calculate the width and height of a symbol\n\t *\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {string} symbol\n\t *\n\t * @return {Object} - { width, height }\n\t */\n\tmeasure(ctx, symbol) {\n\t\tif (ctx && !this.cache.hasOwnProperty(symbol)) {\n\t\t\tconst metrics = ctx.measureText(symbol);\n\t\t\tthis.cache[symbol] = {\n\t\t\t\twidth: metrics.width,\n\t\t\t\theight: metrics.fontBoundingBoxAscent + metrics.fontBoundingBoxDescent\n\t\t\t};\n\t\t}\n\n\t\treturn this.cache[symbol];\n\t}\n\n\taverageMetrics(ctx) {\n\t\treturn this.measure(ctx, \"M\");\n\t}\n\n}\n\nconst instance = new FontLoader();\nexport default instance;","import \"./extensions\";\nimport { DensityCanvas } from \"./density-canvas\";\nimport { DROP_SPAWN_INTERVAL, MAX_DROP_COUNT, SYMBOLS } from \"./constants\";\nimport { Drop } from \"./drop\";\nimport FontLoader from \"./font-loader\";\n\nclass Main {\n\n\tconstructor() {\n\t\t// Setup canvas\n\t\tthis.canvas = new DensityCanvas();\n\t\tthis.canvas.attachToElement(document.body);\n\n\t\t// Variables\n\t\tthis.dropSpawnTimer = 0;\n\t\tthis.drops = [];\n\t\tthis.horizontalColumn = 0;\n\n\t\t// Frame rate variables\n\t\tthis.targetFPS = 24;\n\t\tthis.targetFrameTime = 1000 / this.targetFPS;\n\t\tthis.frameStartTime = performance.now();\n\t\tthis.lastFrameTime = performance.now();\n\t\tthis.frameCount = 0;\n\t\tthis.frameTimer = 0;\n\t\tthis.fps = 0;\n\n\t\t// Hook events\n\t\twindow.addLoadEventListener(this.#onLoad.bind(this));\n\t\twindow.addEventListener(\"resize\", this.#onResize.bind(this));\n\t}\n\n\t#invalidate() {\n\t\t// Calculate the time since the last frame\n\t\tconst elapsed = this.lastFrameTime - this.frameStartTime;\n\t\tlet remaining = this.targetFrameTime - elapsed;\n\n\t\t// Clamp the remaining time to a minimum of 0ms and a maximum of the target frame interval\n\t\tif (remaining < 0) remaining = 0;\n\t\telse if (remaining > this.targetFrameTime) remaining = this.targetFrameTime;\n\n\t\tthis.lastFrameTime = performance.now();\n\t\tsetTimeout(this.#onFrame.bind(this), remaining);\n\t\t// requestAnimationFrame(this.onFrame.bind(this));\n\t}\n\n\tasync #onLoad() {\n\t\t// Define the canvas size\n\t\tconst size = { width: document.body.clientWidth, height: document.body.clientHeight };\n\t\tthis.canvas.setSize(size);\n\n\t\t// Preload font family\n\t\tawait FontLoader.load(this.canvas.context);\n\n\t\tthis.canvas.fullscreen();\n\n\t\t// Request next frame\n\t\tthis.#invalidate();\n\t}\n\n\tasync #onResize() {\n\t\t// Define the canvas size\n\t\tconst size = { width: document.body.clientWidth, height: document.body.clientHeight };\n\t\tthis.canvas.setSize(size);\n\n\t\t// Preload font family\n\t\tawait FontLoader.load(this.canvas.context);\n\t}\n\n\t#onTick(deltaTime) {\n\t\t// Spawn new drops\n\t\tthis.dropSpawnTimer += deltaTime;\n\t\tif (this.dropSpawnTimer >= DROP_SPAWN_INTERVAL) {\n\t\t\tthis.dropSpawnTimer -= DROP_SPAWN_INTERVAL;\n\t\t\tfor (let i = 0; i < Math.random() * 50 && this.drops.length < MAX_DROP_COUNT; i++) {\n\t\t\t\tconst averageMetrics = FontLoader.averageMetrics(this.canvas.context);\n\t\t\t\tconst columns = Math.floor(this.canvas.width / averageMetrics.width);\n\t\t\t\tconst x = Math.floor(Math.random() * columns) * averageMetrics.width;\n\n\t\t\t\tthis.drops.push(new Drop({ x, y: 0 }));\n\t\t\t}\n\t\t}\n\t}\n\n\t#onFrame() {\n\t\t// Acknowledge the frame start\n\t\tthis.frameStartTime = performance.now();\n\t\tconst deltaTime = (this.frameStartTime - this.lastFrameTime) / 1000;\n\n\t\t// Estimate the frame rate\n\t\tthis.frameCount++;\n\t\tthis.frameTimer += deltaTime;\n\t\tif (this.frameTimer >= 1) {\n\t\t\tthis.fps = this.frameCount;\n\t\t\tthis.frameCount = 0;\n\t\t\tthis.frameTimer -= 1;\n\t\t}\n\n\t\t// Update and render the scene\n\t\tthis.#onTick(deltaTime);\n\t\tthis.#onRender(deltaTime);\n\n\t\t// Request next frame\n\t\tthis.#invalidate();\n\t}\n\n\t#onRender(deltaTime) {\n\t\tthis.canvas.clear();\n\t\tconst ctx = this.canvas.context;\n\t\tconst width = this.canvas.width;\n\t\tconst height = this.canvas.height;\n\n\t\tfor (let i = this.drops.length - 1; i >= 0; i--) {\n\t\t\tconst drop = this.drops[i];\n\n\t\t\tif (drop.isWithinScreenBounds(width, height)) {\n\t\t\t\tdrop.update(deltaTime);\n\t\t\t\tdrop.render(ctx);\n\t\t\t} else {\n\t\t\t\tthis.drops.splice(i, 1);\n\t\t\t}\n\t\t}\n\n\t\t// Draw FPS Counter\n\t\t// const ctx = this.canvas.context;\n\t\t// ctx.fillStyle = \"white\";\n\t\t// ctx.fillText(`${this.fps} FPS`, 10, 20);\n\t}\n\n}\n\nnew Main();\n"]}