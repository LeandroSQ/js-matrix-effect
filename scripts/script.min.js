!function i(n,a,o){function s(e,t){if(!a[e]){if(!n[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(h)return h(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}r=a[e]={exports:{}},n[e][0].call(r.exports,function(t){return s(n[e][1][t]||t)},r,r.exports,i,n,a,o)}return a[e].exports}for(var h="function"==typeof require&&require,t=0;t<o.length;t++)s(o[t]);return s}({1:[function(t,e,r){function h(t,e,r,i,n,a,o){try{var s=t[a](o),h=s.value}catch(t){return void r(t)}s.done?e(h):Promise.resolve(h).then(i,n)}e.exports=function(s){return function(){var t=this,o=arguments;return new Promise(function(e,r){var i=s.apply(t,o);function n(t){h(i,e,r,n,a,"next",t)}function a(t){h(i,e,r,n,a,"throw",t)}n(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],2:[function(t,e,r){e.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},{}],3:[function(t,e,r){function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.exports=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},e.exports.__esModule=!0,e.exports.default=e.exports},{}],4:[function(t,e,r){e.exports=function(t){return t&&t.__esModule?t:{default:t}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],5:[function(t,T,e){var S=t("./typeof.js").default;function r(){"use strict";T.exports=function(){return o},T.exports.__esModule=!0,T.exports.default=T.exports;var o={},t=Object.prototype,h=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",n=e.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function s(t,e,r,i){var n,a,o,s,e=e&&e.prototype instanceof c?e:c,e=Object.create(e.prototype),i=new b(i||[]);return e._invoke=(n=t,a=r,o=i,s="suspendedStart",function(t,e){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return _()}for(o.method=t,o.arg=e;;){var r=o.delegate;if(r){r=function t(e,r){var i=e.iterator[r.method];if(void 0===i){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method))return u;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}i=l(i,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,u;i=i.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,u):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,u)}(r,o);if(r){if(r===u)continue;return r}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===s)throw s="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s="executing";r=l(n,a,o);if("normal"===r.type){if(s=o.done?"completed":"suspendedYield",r.arg===u)continue;return{value:r.arg,done:o.done}}"throw"===r.type&&(s="completed",o.method="throw",o.arg=r.arg)}}),e}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}o.wrap=s;var u={};function c(){}function f(){}function d(){}var e={},p=(a(e,i,function(){return this}),Object.getPrototypeOf),p=p&&p(p(x([]))),m=(p&&p!==t&&h.call(p,i)&&(e=p),d.prototype=c.prototype=Object.create(e));function v(t){["next","throw","return"].forEach(function(e){a(t,e,function(t){return this._invoke(e,t)})})}function y(o,s){var e;this._invoke=function(r,i){function t(){return new s(function(t,e){!function e(t,r,i,n){var a,t=l(o[t],o,r);if("throw"!==t.type)return(r=(a=t.arg).value)&&"object"==S(r)&&h.call(r,"__await")?s.resolve(r.__await).then(function(t){e("next",t,i,n)},function(t){e("throw",t,i,n)}):s.resolve(r).then(function(t){a.value=t,i(a)},function(t){return e("throw",t,i,n)});n(t.arg)}(r,i,t,e)})}return e=e?e.then(t,t):t()}}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function g(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function x(e){if(e){var r,t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return r=-1,(t=function t(){for(;++r<e.length;)if(h.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:_}}function _(){return{value:void 0,done:!0}}return a(m,"constructor",f.prototype=d),a(d,"constructor",f),f.displayName=a(d,n,"GeneratorFunction"),o.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,a(t,n,"GeneratorFunction")),t.prototype=Object.create(m),t},o.awrap=function(t){return{__await:t}},v(y.prototype),a(y.prototype,r,function(){return this}),o.AsyncIterator=y,o.async=function(t,e,r,i,n){void 0===n&&(n=Promise);var a=new y(s(t,e,r,i),n);return o.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},v(m),a(m,n,"Generator"),a(m,i,function(){return this}),a(m,"toString",function(){return"[object Generator]"}),o.keys=function(r){var t,i=[];for(t in r)i.push(t);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},o.values=x,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(g),!t)for(var e in this)"t"===e.charAt(0)&&h.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var i=this;function t(t,e){return a.type="throw",a.arg=r,i.next=t,e&&(i.method="next",i.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e],a=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var o=h.call(n,"catchLoc"),s=h.call(n,"finallyLoc");if(o&&s){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(o){if(this.prev<n.catchLoc)return t(n.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&h.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}var a=(n=n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc?null:n)?n.completion:{};return a.type=t,a.arg=e,n?(this.method="next",this.next=n.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),g(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,i,n=this.tryEntries[e];if(n.tryLoc===t)return"throw"===(r=n.completion).type&&(i=r.arg,g(n)),i}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},o}T.exports=r,T.exports.__esModule=!0,T.exports.default=T.exports},{"./typeof.js":6}],6:[function(t,e,r){function i(t){return e.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.exports.__esModule=!0,e.exports.default=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},{}],7:[function(e,t,r){e=e("../helpers/regeneratorRuntime")();t.exports=e;try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},{"../helpers/regeneratorRuntime":5}],8:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TRAIL_LENGTH=r.SYMBOLS=r.MAX_GLARE_COUNT=r.MAX_DROP_COUNT=r.GLARE_SPAWN_INTERVAL=r.FONT_FAMILY=r.DROP_TIME_TO_SWAP_SYMBOLS=r.DROP_TIME_TO_STACK=r.DROP_SPAWN_INTERVAL=r.DROP_BLUR_COLOR=void 0;r.FONT_FAMILY="500 18pt 'Matrix'",r.SYMBOLS=["`",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","[","\\","]","^","_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"],r.TRAIL_LENGTH=10,r.MAX_DROP_COUNT=750,r.DROP_SPAWN_INTERVAL=.035,r.DROP_BLUR_COLOR="#0fa",r.DROP_TIME_TO_STACK=.085,r.DROP_TIME_TO_SWAP_SYMBOLS=.065,r.MAX_GLARE_COUNT=14;r.GLARE_SPAWN_INTERVAL=.015},{}],9:[function(t,e,r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault"),n=(Object.defineProperty(r,"__esModule",{value:!0}),r.DensityCanvas=void 0,i(t("@babel/runtime/helpers/classCallCheck"))),a=i(t("@babel/runtime/helpers/createClass"));function o(t,e){var r=t;if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");e.add(t)}function s(t,e,r){if(e.has(t))return r;throw new TypeError("attempted to get private field on non-instance")}var h=new WeakSet,l=new WeakSet,u=new WeakSet;function c(t){return this.enableHighDPI?t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1:.05}function f(){return this.enableHighDPI?window.devicePixelRatio||1:.05}function d(t,e){return e/t}r.DensityCanvas=function(){function t(){(0,n.default)(this,t),o(this,u),o(this,l),o(this,h),this.canvas=document.createElement("canvas"),this.virtualWidth=null,this.virtualHeight=null,this.enableHighDPI=!1}return(0,a.default)(t,[{key:"fullscreen",value:function(){this.canvas.onfullscreenerror=function(t){console.error(t)},this.canvas.requestFullscreen?this.canvas.requestFullscreen():this.canvas.webkitRequestFullscreen?this.canvas.webkitRequestFullscreen():this.canvas.msRequestFullscreen&&this.canvas.msRequestFullscreen()}},{key:"setSize",value:function(t){var e=t.width,t=t.height,r=s(this,h,c).call(this,this.context),i=s(this,l,f).call(this);this.drawRatio=s(this,u,d).call(this,r,i),r!==i?(this.canvas.width=e*this.drawRatio,this.canvas.height=t*this.drawRatio,this.canvas.style.width="".concat(e,"px"),this.canvas.style.minWidth="".concat(e,"px"),this.canvas.style.height="".concat(t,"px"),this.canvas.style.minHeight="".concat(t,"px")):(this.canvas.width=e,this.canvas.height=t,this.canvas.style.width="",this.canvas.style.height=""),this.context.scale(this.drawRatio,this.drawRatio),this.virtualWidth=e,this.virtualHeight=t}},{key:"clear",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"drawBufferTo",value:function(t,e,r){r.save(),r.scale(1/this.drawRatio,1/this.drawRatio),r.drawImage(this.canvas,t,e),r.restore()}},{key:"attachToElement",value:function(t){t.appendChild(this.canvas)}},{key:"width",get:function(){return this.virtualWidth||this.canvas.width}},{key:"height",get:function(){return this.virtualHeight||this.canvas.height}},{key:"context",get:function(){return this.canvas.getContext("2d")}}]),t}()},{"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/interopRequireDefault":4}],10:[function(t,e,r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault"),n=(Object.defineProperty(r,"__esModule",{value:!0}),r.Drop=void 0,i(t("@babel/runtime/helpers/classCallCheck"))),a=i(t("@babel/runtime/helpers/createClass")),h=t("./constants"),s=i(t("./font-loader"));function o(t,e){var r=t;if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");e.add(t)}function l(t,e,r){if(e.has(t))return r;throw new TypeError("attempted to get private field on non-instance")}var u=new WeakSet,c=new WeakSet,f=new WeakSet;function d(){return h.SYMBOLS.random()}function p(t){var e=Math.floor(10*(1-t)),r=Math.floor(255*t),t=Math.floor(10*(1-t));return"rgba(".concat(e,", ").concat(r,", ").concat(t,", ").concat(this.position.z,")")}function m(t,e,r,i,n,a){t.fillStyle=a;for(var o=0<=r&&!this.shouldUseBlurColor&&.8<this.position.z?this.overBlur:1,s=0;s<o;s++)0<=r?(t.shadowColor=this.shouldUseBlurColor?h.DROP_BLUR_COLOR:a,t.shadowBlur=10):(t.shadowColor="transparent",t.shadowBlur=0),t.shadowOffsetX=0,t.shadowOffsetY=0,t.fillText(e,this.position.x+i,this.position.y+n)}r.Drop=function(){function r(t){var e=t.x,t=t.y;(0,n.default)(this,r),o(this,f),o(this,c),o(this,u),this.position={x:e,y:t,z:Math.max(Math.random(),.65)},this.velocity=100*Math.random()+25,this.moveTimer=0,this.spawnTimer=0,this.swapTimer=0,this.letterSpacing=0,this.maxLength=Math.floor(10*Math.random()+10),this.shouldUseBlurColor=Math.random()<=.1,this.overBlur=7*Math.random()+1,this.trail=[]}return(0,a.default)(r,[{key:"update",value:function(t){var e;this.spawnTimer+=t,this.spawnTimer>=h.DROP_TIME_TO_STACK&&(this.spawnTimer-=h.DROP_TIME_TO_STACK,this.trail.unshift(l(this,u,d).call(this)),this.trail.length>this.maxLength&&this.trail.pop(),this.position.y+=null!=(e=null==(e=s.default.measure(null,this.trail[0]))?void 0:e.height)?e:0+this.letterSpacing),this.swapTimer>=h.DROP_TIME_TO_SWAP_SYMBOLS&&Math.random()<=.25?(this.swapTimer-=h.DROP_TIME_TO_SWAP_SYMBOLS,this.trail[0]=l(this,u,d).call(this),Math.random()<=.5&&(this.trail[1+Math.floor(Math.random()*this.trail.length-2)]=l(this,u,d).call(this))):Math.random()<=.5&&(this.swapTimer+=t)}},{key:"render",value:function(t){for(var e=0,r=0;r<this.trail.length;r++){var i=1-r/(this.trail.length+1),n=this.trail[r],a=0==r?"#afa":l(this,c,p).call(this,i),o=s.default.measure(t,n);l(this,f,m).call(this,t,n,i,-o.width/2,-e,a),e+=o.height+this.letterSpacing}}},{key:"isWithinScreenBounds",value:function(t,e){return 0<=this.position.x&&this.position.x<=t&&0<=this.position.y&&this.position.y-20*this.trail.length<=e}}]),r}()},{"./constants":8,"./font-loader":12,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/interopRequireDefault":4}],11:[function(t,e,r){"use strict";Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},window.addLoadEventListener=function(t){function e(){i||(i=!0,t())}var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,i=!1;window.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e),document.addEventListener("load",e),window.addEventListener("ready",e),setTimeout(e,r)}},{}],12:[function(t,e,r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,i(t("@babel/runtime/regenerator"))),n=i(t("@babel/runtime/helpers/asyncToGenerator")),a=i(t("@babel/runtime/helpers/classCallCheck")),s=i(t("@babel/runtime/helpers/createClass")),h=t("./constants");function l(t,e){var r,i,n,a,o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return i=!(r=!0),{s:function(){o=o.call(t)},n:function(){var t=o.next();return r=t.done,t},e:function(t){i=!0,n=t},f:function(){try{r||null==o.return||o.return()}finally{if(i)throw n}}};if(Array.isArray(t)||(o=function(t,e){var r;if(t)return"string"==typeof t?u(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}(t))||e&&t&&"number"==typeof t.length)return o&&(t=o),a=0,{s:e=function(){},n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}i=new(function(){function t(){(0,a.default)(this,t),this.cache={}}var e;return(0,s.default)(t,[{key:"load",value:(e=(0,n.default)(o.default.mark(function t(e){var r,i,n,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h.FONT_FAMILY,document.fonts.check(r)){t.next=6;break}return t.next=4,document.fonts.load(r);case 4:i=l(h.SYMBOLS);try{for(i.s();!(n=i.n()).done;)a=n.value,this.measure(e,a)}catch(t){i.e(t)}finally{i.f()}case 6:e.font=r;case 7:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)})},{key:"measure",value:function(t,e){return t&&!this.cache.hasOwnProperty(e)&&(t=t.measureText(e),this.cache[e]={width:t.width,height:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent}),this.cache[e]}},{key:"averageMetrics",value:function(t){return this.measure(t,"M")}}]),t}());r.default=i},{"./constants":8,"@babel/runtime/helpers/asyncToGenerator":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/interopRequireDefault":4,"@babel/runtime/regenerator":7}],13:[function(t,e,r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault"),n=(Object.defineProperty(r,"__esModule",{value:!0}),r.Glare=void 0,i(t("@babel/runtime/helpers/classCallCheck"))),a=i(t("@babel/runtime/helpers/createClass"));r.Glare=function(){function r(t){var e=t.x,t=t.y;(0,n.default)(this,r),this.position={x:e,y:t},this.initialRadius=500*Math.random()+400,this.radius=this.initialRadius,this.velocity={x:300*Math.random()-150,y:300*Math.random()-150},this.timeToLive=2*Math.random()+2.5,this.timeLived=0,this.isAlive=!0}return(0,a.default)(r,[{key:"update",value:function(t){this.isAlive&&(this.timeLived+=t,this.timeLived>=this.timeToLive&&(this.isAlive=!1),this.position.x+=this.velocity.x*t+5*(2*Math.random()-1),this.position.y+=this.velocity.y*t+5*(2*Math.random()-1),t=.5-Math.abs(this.timeLived/this.timeToLive-.5),this.radius=Math.max(this.initialRadius*t*2+(2*Math.random()-1)*this.initialRadius*.1,0))}},{key:"render",value:function(t){t.shadowBlur=0,t.shadowColor="transparent";var e=t.createRadialGradient(this.position.x,this.position.y,0,this.position.x,this.position.y,this.radius),r=Math.min(1-this.timeLived/this.timeToLive,1)/12;e.addColorStop(0,"rgba(15, 250, 25, ".concat(r.toFixed(2),")")),e.addColorStop(1,"transparent"),t.fillStyle=e,t.beginPath(),t.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),t.fill()}}]),r}()},{"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/interopRequireDefault":4}],14:[function(t,W,B){"use strict";var e=t("@babel/runtime/helpers/interopRequireDefault"),r=e(t("@babel/runtime/regenerator")),i=e(t("@babel/runtime/helpers/asyncToGenerator")),n=e(t("@babel/runtime/helpers/createClass")),a=e(t("@babel/runtime/helpers/classCallCheck")),o=(t("./extensions"),t("./density-canvas")),s=t("./constants"),h=t("./drop"),l=e(t("./font-loader")),u=t("./glare");function c(t,e){var r=t;if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object");e.add(t)}function f(t,e,r){if(e.has(t))return r;throw new TypeError("attempted to get private field on non-instance")}var d=new WeakSet,p=new WeakSet,m=new WeakSet,v=new WeakSet,y=new WeakSet,w=new WeakSet,g=new WeakSet,b=new WeakSet,x=new WeakSet,_=new WeakSet,T=new WeakSet,S=new WeakSet,L=new WeakSet;function O(){var e=this;window.addLoadEventListener(f(this,m,R).bind(this)),window.addEventListener("resize",f(this,v,k).bind(this));["visibilitychange","webkitvisibilitychange","mozvisibilitychange","msvisibilitychange"].forEach(function(t){return window.addEventListener(t,f(e,y,P).bind(e))})}function M(){var t=this.lastFrameTime-this.frameStartTime,t=this.targetFrameTime-t;t<0?t=0:t>this.targetFrameTime&&(t=this.targetFrameTime),this.lastFrameTime=performance.now(),setTimeout(f(this,x,F).bind(this),t)}function R(){return C.apply(this,arguments)}function C(){return(C=(0,i.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(this,v,k).call(this);case 2:this.canvas.fullscreen(),f(this,p,M).call(this);case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function k(){return E.apply(this,arguments)}function E(){return(E=(0,i.default)(r.default.mark(function t(){var e;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={width:document.body.clientWidth,height:document.body.clientHeight},this.canvas.setSize(e),t.next=4,l.default.load(this.canvas.context);case 4:e=l.default.averageMetrics(this.canvas.context),this.grid.columns=Math.floor(this.canvas.width/e.width);case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function P(t){document.hidden?this.paused=!0:(this.paused=!1,this.lastFrameTime=performance.now(),this.frameStartTime=performance.now(),f(this,p,M).call(this))}function A(t){f(this,g,D).call(this,t),f(this,b,N).call(this,t)}function D(t){if(this.dropSpawnTimer+=t,this.dropSpawnTimer>=s.DROP_SPAWN_INTERVAL){this.dropSpawnTimer-=s.DROP_SPAWN_INTERVAL;for(var e=l.default.averageMetrics(this.canvas.context),r=0;r<Math.random()*Math.min(this.grid.columns/12,50)&&this.grid.drops<s.MAX_DROP_COUNT;r++){var i=Math.floor(Math.random()*this.grid.columns),n=i*e.width,a=f(this,L,q).call(this,i);(a.length<=0||a[a.length-1].trail.length>=a[a.length-1].maxLength/2)&&(f(this,S,G).call(this,i,new h.Drop({x:n,y:0})),this.grid.drops++)}}}function N(t){var e,r;this.grid.drops<=s.MAX_DROP_COUNT/4||this.glares.length<s.MAX_GLARE_COUNT&&(this.glareSpawnTimer>=s.GLARE_SPAWN_INTERVAL?(this.glareSpawnTimer-=s.GLARE_SPAWN_INTERVAL,e=Math.random()*this.canvas.width,r=Math.random()*this.canvas.height,this.glares.push(new u.Glare({x:e,y:r}))):this.glareSpawnTimer+=t)}function F(){var t;this.paused||(this.frameStartTime=performance.now(),t=(this.frameStartTime-this.lastFrameTime)/1e3,this.frameCount++,this.frameTimer+=t,1<=this.frameTimer&&(this.fps=this.frameCount,this.frameCount=0,--this.frameTimer),f(this,w,A).call(this,t),f(this,_,I).call(this,t),f(this,p,M).call(this))}function I(t){this.canvas.clear();for(var e=this.canvas.context,r=this.canvas.width,i=this.canvas.height,n=this.glares.length-1;0<=n;n--){var a=this.glares[n];a.update(t),a.isAlive?a.render(e):this.glares.splice(n,1)}for(var o=0;o<this.grid.columns;o++)if(this.grid.hasOwnProperty(o))for(var s=this.grid[o].length-1;0<=s;s--){var h=this.grid[o][s];h.isWithinScreenBounds(r,i)?(h.update(t),h.render(e)):(this.grid[o].splice(s,1),this.grid.drops--)}f(this,T,j).call(this,e)}function j(t){t.fillStyle="white",t.shadowColor=s.DROP_BLUR_COLOR,t.shadowBlur=10,t.fillText("".concat(this.fps," FPS"),10,20)}function G(t,e){this.grid.hasOwnProperty(t)||(this.grid[t]=[]),this.grid[t].push(e)}function q(t){return this.grid.hasOwnProperty(t)?this.grid[t]:[]}new((0,n.default)(function t(){(0,a.default)(this,t),c(this,L),c(this,S),c(this,T),c(this,_),c(this,x),c(this,b),c(this,g),c(this,w),c(this,y),c(this,v),c(this,m),c(this,p),c(this,d),this.canvas=new o.DensityCanvas,this.canvas.attachToElement(document.body),this.dropSpawnTimer=0,this.glareSpawnTimer=0,this.grid={columns:0,drops:0},this.glares=[],this.horizontalColumn=0,this.targetFPS=24,this.targetFrameTime=1e3/this.targetFPS,this.frameStartTime=performance.now(),this.lastFrameTime=performance.now(),this.frameCount=0,this.frameTimer=0,this.fps=0,this.paused=!1,f(this,d,O).call(this)}))},{"./constants":8,"./density-canvas":9,"./drop":10,"./extensions":11,"./font-loader":12,"./glare":13,"@babel/runtime/helpers/asyncToGenerator":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/interopRequireDefault":4,"@babel/runtime/regenerator":7}]},{},[14]);
//# sourceMappingURL=script.min.js.map
